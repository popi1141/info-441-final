<html>

<head>
    <script src="/socket.io/socket.io.js"></script>
    <script>
      var socket = io("/queue");
    </script>
    <script>
        let myfunc = async function() {
            socket.on("redirect", async (msg) => {
                msg = await JSON.parse(msg)
                if (msg.type == "redirect") {
                    console.log(msg)
                    window.location.href = msg.url + `?gameId=${msg.gameid}&uid=${msg.userId}`;
                }
            })
        }
        myfunc();
    </script>

</head>

<body>
    <h1>Queue joiner</h1>
    <h2>
        <div id="tryingstuff"></div>
    </h2>
    <input type=text id="textInput">
    <button id="sendBtn">send</button>

    <h3>recieved info:</h3>
    <div id="output"></div>
</body>

</html>